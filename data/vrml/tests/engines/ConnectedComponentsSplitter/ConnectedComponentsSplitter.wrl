#VRML V2.0 utf8
# Generated by SGAL Version 100001
DEF CONFIG Configuration {}
DEF SIM Simulation {}
ColorBackground { color 0.5 0.5 0.5 1 }
NavigationInfo { type [ "EXAMINE" ] }
Transform {
  children [
    Shape {
      appearance Appearance {
        material Material { transparency 0.5 }
      }
      geometry DEF OPERAND IndexedFaceSet {
        coord Coordinate {
          point [
                 0, 0, 0
                 0, 1, 0
                 1, 0, 0
                 0, 0, 1
                 0, 0, 2
                 0, 0, 3
                 0, 1, 3
                 1, 0, 3
                ]
        }
        coordIndex [
                    0 1 2 -1 0 2 3 -1 0 3 1 -1 1 3 2 -1
                    4 5 6 -1 4 6 7 -1 5 7 6 -1 4 7 5 -1
                   ]
      }
    }
    DEF COMPONENT1 Shape {
      appearance Appearance {
    	material Material { diffuseColor 0.6 0.4 0.4 }
      }
    }
    DEF COMPONENT2 Shape {
      appearance Appearance {
    	material Material { diffuseColor 0.4 0.4 0.6 }
      }
    }
   ]
}

DEF CCS ConnectedComponentsSplitter {
  operand USE OPERAND
  # components USE COMPONENTS
}

DEF EXTRACT_GEOM Script {
  eventIn MFNode modes
  eventOut SFNode out1
  eventOut SFNode out2
  url "javascript:
    function modes(value, timestamp) {
      out1 = value[0];
      out2 = value[1];
    }"
}

ROUTE SIM.start TO CCS.trigger
ROUTE CCS.components TO EXTRACT_GEOM.modes
ROUTE EXTRACT_GEOM.out1 TO COMPONENT1.geometry
ROUTE EXTRACT_GEOM.out2 TO COMPONENT2.geometry
