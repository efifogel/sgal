#VRML V2.0 utf8
Configuration {
  accumulation Accumulation { enabled TRUE }
}
ColorBackground {
  color 0.5 0.5 0.5 0
  clearStencil TRUE
}
NavigationInfo { type [ "EXAMINE" "ANY" ] }
Viewpoint {
  # type "ORTHOGONAL"
  # fieldOfView 3.04
  radiusScale 0.7
}

DEF TRANSFORMER_NAV NavigationInfo { type [ "TRANSFORM" ] }
DEF EXPORT_KEY SingleKeySensor { key "O" }
DEF SNAP_KEY SingleKeySensor { key "S" }

DEF SNAP Snapshot {
  image Image { }
  fileFormat "jpg"
  quality 98
  sequence FALSE
  dirName "."
  fileName "lts"
}

Transform {
  #bboxCenter 0 0 0
  #bboxSize 1.5 1.5 1.5
  children [
    Shape {
      appearance Appearance {
	material Material {}
      }
      geometry DEF MODEL ExactPolyhedron {
	coord Coordinate {
	  point [0 0 1.732051,
		 1.632993 0 -0.5773503,
		 -0.8164966 1.414214 -0.5773503,
		 -0.8164966 -1.414214 -0.5773503,
		]
	}
	coordIndex [0,1,2,-1,
		    0,2,3,-1,
		    0,3,1,-1,
		    1,3,2,-1,
		   ]
      }
    }
    Shape {
      appearance Appearance {
	material Material {}
      }
      geometry DEF GEOM Ego {
	model USE MODEL
      }
    }

    # The axes:
    DEF AXES Transform {
      # scale 0.1 0.1 0.1
      children [
	Shape {
	  appearance DEF AXES_APP Appearance {
	    material Material {
	      # ambientIntensity 1
	      diffuseColor 0.4 0.4 0.4
	      # specularColor 0.3 0.3 0.3
	      # transparency 0.0001
	    }
	  }
	  geometry Sphere { radius 0.1 }
	}
	DEF CS_AXIS Transform {
	  translation 0 1.5 0
	  children [
	    Shape {
	      appearance USE AXES_APP
	      geometry Cylinder {
		radius 0.1
		height 3
		set_is_bottom_visible FALSE
		set_is_top_visible FALSE
	      }
	    }
	    Transform {
	      translation 0 1.7 0
	      children [
		Shape {
		  appearance USE AXES_APP
		  geometry Cone {
		    bottomRadius 0.2
		    height 0.4
		  }
		}
	       ]
	    }
	   ]
	}
	Transform {
	  rotation 0 0 -1 1.57
	  children [ USE CS_AXIS ]
	}
	Transform {
	  rotation 1 0 0 1.57
	  children [ USE CS_AXIS ]
	}
       ]
    }
   ]
}

ROUTE SNAP_KEY.state TO SNAP.trigger
# ROUTE EXPORT_KEY.press TO GEOM.export
