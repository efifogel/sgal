#VRML V2.0 utf8
Configuration {
  accumulation Accumulation { enabled TRUE }
}
ColorBackground {
  color 0.5 0.5 0.5 0
  clearStencil TRUE
}
NavigationInfo { type [ "EXAMINE" "ANY" ] }
Viewpoint {
  # type "ORTHOGONAL"
  # fieldOfView 3.04
  radiusScale 0.7
}

DEF TRANSFORMER_NAV NavigationInfo { type [ "TRANSFORM" ] }
DEF EXPORT_KEY SingleKeySensor { key "O" }
DEF SNAP_KEY SingleKeySensor { key "S" }
DEF AOS_MODEL_VISIBLE_KEY SingleKeySensor { key "m" }

DEF SNAP Snapshot {
  image Image { }
  fileFormat "jpg"
  quality 98
  sequence FALSE
  dirName "."
  fileName "lts"
}

Transform {
  #bboxCenter 0 0 0
  #bboxSize 1.5 1.5 1.5
  children [
    DEF SWITCH_MODEL Switch {
      whichChoice 0
      children [
        Shape {
          appearance Appearance {
            material Material {}
          }
          geometry DEF MODEL ExactPolyhedron {
            coord Coordinate {
              point [
                 .2764 -.4472 .8507,
                 .1552 -.2511 .9554,
                 .436 -.2511 .8642,
                 0 0 1,
                 .309 0 .9511,
                 .5878 0 .809,
                 -.1552 .2511 .9554,
                 .1382 .2764 .9511,
                 .4472 .2764 .8507,
                 .6872 .2511 .6817,
                 -.2764 .4472 .8507,
                 -.0296 .5023 .8642,
                 .2629 .5257 .809,
                 .5319 .5023 .6817,
                 .7236 .4472 .5257,
                 .0296 -.5023 .8642,
                 -.2629 -.5257 .809,
                 -.1382 -.2764 .9511,
                 -.5319 -.5023 .6817,
                 -.4472 -.2764 .8507,
                 -.309 0 .9511,
                 -.7236 -.4472 .5257,
                 -.6872 -.2511 .6817,
                 -.5878 0 .809,
                 -.436 .2511 .8642,
                 .8944 -.4472 0,
                 .8311 -.5023 .2389,
                 .9566 -.2511 .1476,
                 .6882 -.5257 .5,
                 .8618 -.2764 .4253,
                 .9511 0 .309,
                 .484 -.5023 .7166,
                 .6708 -.2764 .6882,
                 .809 0 .5878,
                 .8607 .2511 .4429,
                 .7534 -.6575 0,
                 .5257 -.8507 0,
                 .6382 -.7236 .2629,
                 .2511 -.9679 0,
                 .3618 -.8944 .2629,
                 .4472 -.7236 .5257,
                 0 -1 0,
                 .0776 -.9679 .2389,
                 .1625 -.8507 .5,
                 .2328 -.6575 .7166,
                 -.2328 .6575 .7166,
                 -.1625 .8507 .5,
                 .0528 .7236 .6882,
                 -.0776 .9679 .2389,
                 .1382 .8944 .4253,
                 .3618 .7236 .5878,
                 0 1 0,
                 .2032 .9679 .1476,
                 .4253 .8507 .309,
                 .6095 .6575 .4429,
                 -.484 .5023 .7166,
                 -.6882 .5257 .5,
                 -.4472 .7236 .5257,
                 -.8311 .5023 .2389,
                 -.6382 .7236 .2629,
                 -.3618 .8944 .2629,
                 -.8944 .4472 0,
                 -.7534 .6575 0,
                 -.5257 .8507 0,
                 -.2511 .9679 0,
                 .2032 .9679 -.1476,
                 .4253 .8507 -.309,
                 .4472 .8944 0,
                 .6095 .6575 -.4429,
                 .6708 .7236 -.1625,
                 .6708 .7236 .1625,
                 .7236 .4472 -.5257,
                 .8127 .5023 -.2952,
                 .8507 .5257 0,
                 .8127 .5023 .2952,
                 -.0776 .9679 -.2389,
                 -.1625 .8507 -.5,
                 .1382 .8944 -.4253,
                 -.2328 .6575 -.7166,
                 .0528 .7236 -.6882,
                 .3618 .7236 -.5878,
                 -.2764 .4472 -.8507,
                 -.0296 .5023 -.8642,
                 .2629 .5257 -.809,
                 .5319 .5023 -.6817,
                 .8607 .2511 -.4429,
                 .9511 0 -.309,
                 .9472 .2764 -.1625,
                 .9566 -.2511 -.1476,
                 1 0 0,
                 .9472 .2764 .1625,
                 .6872 .2511 -.6817,
                 .5878 0 -.809,
                 .809 0 -.5878,
                 .436 -.2511 -.8642,
                 .6708 -.2764 -.6882,
                 .8618 -.2764 -.4253,
                 .2764 -.4472 -.8507,
                 .484 -.5023 -.7166,
                 .6882 -.5257 -.5,
                 .8311 -.5023 -.2389,
                 .1552 -.2511 -.9554,
                 .0296 -.5023 -.8642,
                 0 0 -1,
                 -.1382 -.2764 -.9511,
                 -.2629 -.5257 -.809,
                 -.1552 .2511 -.9554,
                 -.309 0 -.9511,
                 -.4472 -.2764 -.8507,
                 -.5319 -.5023 -.6817,
                 -.436 .2511 -.8642,
                 -.5878 0 -.809,
                 -.6872 -.2511 -.6817,
                 -.7236 -.4472 -.5257,
                 .309 0 -.9511,
                 .4472 .2764 -.8507,
                 .1382 .2764 -.9511,
                 .0776 -.9679 -.2389,
                 -.2032 -.9679 -.1476,
                 .1625 -.8507 -.5,
                 -.1382 -.8944 -.4253,
                 -.4253 -.8507 -.309,
                 .2328 -.6575 -.7166,
                 -.0528 -.7236 -.6882,
                 -.3618 -.7236 -.5878,
                 -.6095 -.6575 -.4429,
                 .3618 -.8944 -.2629,
                 .6382 -.7236 -.2629,
                 .4472 -.7236 -.5257,
                 -.484 .5023 -.7166,
                 -.6882 .5257 -.5,
                 -.6708 .2764 -.6882,
                 -.8311 .5023 -.2389,
                 -.8618 .2764 -.4253,
                 -.809 0 -.5878,
                 -.9566 .2511 -.1476,
                 -.9511 0 -.309,
                 -.8607 -.2511 -.4429,
                 -.4472 .7236 -.5257,
                 -.3618 .8944 -.2629,
                 -.6382 .7236 -.2629,
                 -.9566 .2511 .1476,
                 -.9511 0 .309,
                 -1 0 0,
                 -.8607 -.2511 .4429,
                 -.9472 -.2764 .1625,
                 -.9472 -.2764 -.1625,
                 -.8127 -.5023 .2952,
                 -.8507 -.5257 0,
                 -.8127 -.5023 -.2952,
                 -.8618 .2764 .4253,
                 -.6708 .2764 .6882,
                 -.809 0 .5878,
                 -.6095 -.6575 .4429,
                 -.4253 -.8507 .309,
                 -.6708 -.7236 .1625,
                 -.2032 -.9679 .1476,
                 -.4472 -.8944 0,
                 -.6708 -.7236 -.1625,
                 -.3618 -.7236 .5878,
                 -.0528 -.7236 .6882,
                 -.1382 -.8944 .4253
                    ]
            }
            coordIndex [
                    2 1 0 -1,
                    4 3 1 -1,
                    5 4 2 -1,
                    7 6 3 -1,
                    8 7 4 -1,
                    9 8 5 -1,
                    11 10 6 -1,
                    12 11 7 -1,
                    13 12 8 -1,
                    14 13 9 -1,
                    2 4 1 -1,
                    4 7 3 -1,
                    5 8 4 -1,
                    7 11 6 -1,
                    8 12 7 -1,
                    9 13 8 -1,
                    1 15 0 -1,
                    17 16 15 -1,
                    3 17 1 -1,
                    19 18 16 -1,
                    20 19 17 -1,
                    6 20 3 -1,
                    22 21 18 -1,
                    23 22 19 -1,
                    24 23 20 -1,
                    10 24 6 -1,
                    1 17 15 -1,
                    17 19 16 -1,
                    3 20 17 -1,
                    19 22 18 -1,
                    20 23 19 -1,
                    6 24 20 -1,
                    27 26 25 -1,
                    29 28 26 -1,
                    30 29 27 -1,
                    32 31 28 -1,
                    33 32 29 -1,
                    34 33 30 -1,
                    2 0 31 -1,
                    5 2 32 -1,
                    9 5 33 -1,
                    14 9 34 -1,
                    27 29 26 -1,
                    29 32 28 -1,
                    30 33 29 -1,
                    32 2 31 -1,
                    33 5 32 -1,
                    34 9 33 -1,
                    26 35 25 -1,
                    37 36 35 -1,
                    28 37 26 -1,
                    39 38 36 -1,
                    40 39 37 -1,
                    31 40 28 -1,
                    42 41 38 -1,
                    43 42 39 -1,
                    44 43 40 -1,
                    0 44 31 -1,
                    26 37 35 -1,
                    37 39 36 -1,
                    28 40 37 -1,
                    39 42 38 -1,
                    40 43 39 -1,
                    31 44 40 -1,
                    11 45 10 -1,
                    47 46 45 -1,
                    12 47 11 -1,
                    49 48 46 -1,
                    50 49 47 -1,
                    13 50 12 -1,
                    52 51 48 -1,
                    53 52 49 -1,
                    54 53 50 -1,
                    14 54 13 -1,
                    11 47 45 -1,
                    47 49 46 -1,
                    12 50 47 -1,
                    49 52 48 -1,
                    50 53 49 -1,
                    13 54 50 -1,
                    45 55 10 -1,
                    57 56 55 -1,
                    46 57 45 -1,
                    59 58 56 -1,
                    60 59 57 -1,
                    48 60 46 -1,
                    62 61 58 -1,
                    63 62 59 -1,
                    64 63 60 -1,
                    51 64 48 -1,
                    45 57 55 -1,
                    57 59 56 -1,
                    46 60 57 -1,
                    59 62 58 -1,
                    60 63 59 -1,
                    48 64 60 -1,
                    52 65 51 -1,
                    67 66 65 -1,
                    53 67 52 -1,
                    69 68 66 -1,
                    70 69 67 -1,
                    54 70 53 -1,
                    72 71 68 -1,
                    73 72 69 -1,
                    74 73 70 -1,
                    14 74 54 -1,
                    52 67 65 -1,
                    67 69 66 -1,
                    53 70 67 -1,
                    69 72 68 -1,
                    70 73 69 -1,
                    54 74 70 -1,
                    65 75 51 -1,
                    77 76 75 -1,
                    66 77 65 -1,
                    79 78 76 -1,
                    80 79 77 -1,
                    68 80 66 -1,
                    82 81 78 -1,
                    83 82 79 -1,
                    84 83 80 -1,
                    71 84 68 -1,
                    65 77 75 -1,
                    77 79 76 -1,
                    66 80 77 -1,
                    79 82 78 -1,
                    80 83 79 -1,
                    68 84 80 -1,
                    72 85 71 -1,
                    87 86 85 -1,
                    73 87 72 -1,
                    89 88 86 -1,
                    90 89 87 -1,
                    74 90 73 -1,
                    27 25 88 -1,
                    30 27 89 -1,
                    34 30 90 -1,
                    14 34 74 -1,
                    72 87 85 -1,
                    87 89 86 -1,
                    73 90 87 -1,
                    89 27 88 -1,
                    90 30 89 -1,
                    74 34 90 -1,
                    85 91 71 -1,
                    93 92 91 -1,
                    86 93 85 -1,
                    95 94 92 -1,
                    96 95 93 -1,
                    88 96 86 -1,
                    98 97 94 -1,
                    99 98 95 -1,
                    100 99 96 -1,
                    25 100 88 -1,
                    85 93 91 -1,
                    93 95 92 -1,
                    86 96 93 -1,
                    95 98 94 -1,
                    96 99 95 -1,
                    88 100 96 -1,
                    102 101 97 -1,
                    104 103 101 -1,
                    105 104 102 -1,
                    107 106 103 -1,
                    108 107 104 -1,
                    109 108 105 -1,
                    110 81 106 -1,
                    111 110 107 -1,
                    112 111 108 -1,
                    113 112 109 -1,
                    102 104 101 -1,
                    104 107 103 -1,
                    105 108 104 -1,
                    107 110 106 -1,
                    108 111 107 -1,
                    109 112 108 -1,
                    101 94 97 -1,
                    114 92 94 -1,
                    103 114 101 -1,
                    115 91 92 -1,
                    116 115 114 -1,
                    106 116 103 -1,
                    84 71 91 -1,
                    83 84 115 -1,
                    82 83 116 -1,
                    81 82 106 -1,
                    101 114 94 -1,
                    114 115 92 -1,
                    103 116 114 -1,
                    115 84 91 -1,
                    116 83 115 -1,
                    106 82 116 -1,
                    118 117 41 -1,
                    120 119 117 -1,
                    121 120 118 -1,
                    123 122 119 -1,
                    124 123 120 -1,
                    125 124 121 -1,
                    102 97 122 -1,
                    105 102 123 -1,
                    109 105 124 -1,
                    113 109 125 -1,
                    118 120 117 -1,
                    120 123 119 -1,
                    121 124 120 -1,
                    123 102 122 -1,
                    124 105 123 -1,
                    125 109 124 -1,
                    117 38 41 -1,
                    126 36 38 -1,
                    119 126 117 -1,
                    127 35 36 -1,
                    128 127 126 -1,
                    122 128 119 -1,
                    100 25 35 -1,
                    99 100 127 -1,
                    98 99 128 -1,
                    97 98 122 -1,
                    117 126 38 -1,
                    126 127 36 -1,
                    119 128 126 -1,
                    127 100 35 -1,
                    128 99 127 -1,
                    122 98 128 -1,
                    110 129 81 -1,
                    131 130 129 -1,
                    111 131 110 -1,
                    133 132 130 -1,
                    134 133 131 -1,
                    112 134 111 -1,
                    135 61 132 -1,
                    136 135 133 -1,
                    137 136 134 -1,
                    113 137 112 -1,
                    110 131 129 -1,
                    131 133 130 -1,
                    111 134 131 -1,
                    133 135 132 -1,
                    134 136 133 -1,
                    112 137 134 -1,
                    129 78 81 -1,
                    138 76 78 -1,
                    130 138 129 -1,
                    139 75 76 -1,
                    140 139 138 -1,
                    132 140 130 -1,
                    64 51 75 -1,
                    63 64 139 -1,
                    62 63 140 -1,
                    61 62 132 -1,
                    129 138 78 -1,
                    138 139 76 -1,
                    130 140 138 -1,
                    139 64 75 -1,
                    140 63 139 -1,
                    132 62 140 -1,
                    135 141 61 -1,
                    143 142 141 -1,
                    136 143 135 -1,
                    145 144 142 -1,
                    146 145 143 -1,
                    137 146 136 -1,
                    147 21 144 -1,
                    148 147 145 -1,
                    149 148 146 -1,
                    113 149 137 -1,
                    135 143 141 -1,
                    143 145 142 -1,
                    136 146 143 -1,
                    145 147 144 -1,
                    146 148 145 -1,
                    137 149 146 -1,
                    141 58 61 -1,
                    150 56 58 -1,
                    142 150 141 -1,
                    151 55 56 -1,
                    152 151 150 -1,
                    144 152 142 -1,
                    24 10 55 -1,
                    23 24 151 -1,
                    22 23 152 -1,
                    21 22 144 -1,
                    141 150 58 -1,
                    150 151 56 -1,
                    142 152 150 -1,
                    151 24 55 -1,
                    152 23 151 -1,
                    144 22 152 -1,
                    147 153 21 -1,
                    155 154 153 -1,
                    148 155 147 -1,
                    157 156 154 -1,
                    158 157 155 -1,
                    149 158 148 -1,
                    118 41 156 -1,
                    121 118 157 -1,
                    125 121 158 -1,
                    113 125 149 -1,
                    147 155 153 -1,
                    155 157 154 -1,
                    148 158 155 -1,
                    157 118 156 -1,
                    158 121 157 -1,
                    149 125 158 -1,
                    153 18 21 -1,
                    159 16 18 -1,
                    154 159 153 -1,
                    160 15 16 -1,
                    161 160 159 -1,
                    156 161 154 -1,
                    44 0 15 -1,
                    43 44 160 -1,
                    42 43 161 -1,
                    41 42 156 -1,
                    153 159 18 -1,
                    159 160 16 -1,
                    154 161 159 -1,
                    160 44 15 -1,
                    161 43 160 -1,
                    156 42 161 -1
                       ]
          }
        }
       ]
    }
    Group {
      children [
        # Shape {
        #   appearance Appearance {
        #     material Material {}
        #   }
        #   geometry DEF PART0 EgoBrick {
        #     #type "brick" # "plate"
        #     #length 4
        #     #width 2
        #   }
        # }
        # Shape {
        #   appearance Appearance {
        #     material Material {}
        #   }
        #   geometry DEF PART1 EgoBrick {
        #     #type "brick" # "plate"
        #     numberOfKnobs1 2
        #     numberOfKnobs2 4
        #   }
        # }
       ]
    }
    Shape {
      appearance Appearance {
        material Material {}
      }
      geometry DEF GEOM Ego {
        model USE MODEL
        # parts {
        #   children [
        #     USE PART0
        #     USE PART1
        #    ]
        # }
      }
    }

    # The axes:
    DEF AXES Transform {
      # scale 0.1 0.1 0.1
      children [
        Shape {
          appearance DEF AXES_APP Appearance {
            material Material {
              # ambientIntensity 1
              diffuseColor 0.4 0.4 0.4
              # specularColor 0.3 0.3 0.3
              # transparency 0.0001
            }
          }
          geometry Sphere { radius 0.1 }
        }
        DEF CS_AXIS Transform {
          translation 0 1.5 0
          children [
            Shape {
              appearance USE AXES_APP
              geometry Cylinder {
                radius 0.1
                height 3
                set_is_bottom_visible FALSE
                set_is_top_visible FALSE
              }
            }
            Transform {
              translation 0 1.7 0
              children [
                Shape {
                  appearance USE AXES_APP
                  geometry Cone {
                    bottomRadius 0.2
                    height 0.4
                  }
                }
               ]
            }
           ]
        }
        Transform {
          rotation 0 0 -1 1.57
          children [ USE CS_AXIS ]
        }
        Transform {
          rotation 1 0 0 1.57
          children [ USE CS_AXIS ]
	}
       ]
    }
   ]
}

# Model visible toggle
DEF INC_MODEL_VISIBLE Incrementor {
  minValue -1
  maxValue 0
  value 0
}

ROUTE AOS_MODEL_VISIBLE_KEY.state TO INC_MODEL_VISIBLE.trigger
ROUTE INC_MODEL_VISIBLE.value TO SWITCH_MODEL.whichChoice

ROUTE SNAP_KEY.state TO SNAP.trigger

# ROUTE EXPORT_KEY.press TO GEOM.export
