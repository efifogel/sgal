{"version":3,"file":"search-input.component.js","sourceRoot":"","sources":["../../../../../src/platform/core/search/search-input/search-input.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, ViewChild, OnInit, Input, Output, EventEmitter, Optional,\n         ChangeDetectionStrategy, ChangeDetectorRef, forwardRef } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Dir } from '@angular/cdk/bidi';\nimport { MatInput } from '@angular/material/input';\n\nimport { debounceTime } from 'rxjs/operators/debounceTime';\nimport { skip } from 'rxjs/operators/skip';\n\nimport { IControlValueAccessor, mixinControlValueAccessor } from '../../common/common.module';\n\nexport class TdSearchInputBase {\n  constructor(public _changeDetectorRef: ChangeDetectorRef) { }\n}\n\n/* tslint:disable-next-line */\nexport const _TdSearchInputMixinBase = mixinControlValueAccessor(TdSearchInputBase);\n\n@Component({\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => TdSearchInputComponent),\n    multi: true,\n  }],\n  selector: 'td-search-input',\n  templateUrl: './search-input.component.html',\n  styleUrls: ['./search-input.component.scss' ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['value'],\n  animations: [\n    trigger('searchState', [\n      state('hide-left', style({\n        transform: 'translateX(-150%)',\n        display: 'none',\n      })),\n      state('hide-right', style({\n        transform: 'translateX(150%)',\n        display: 'none',\n      })),\n      state('show',  style({\n        transform: 'translateX(0%)',\n        display: 'block',\n      })),\n      transition('* => show', animate('200ms ease-in')),\n      transition('show => *', animate('200ms ease-out')),\n    ]),\n  ],\n})\nexport class TdSearchInputComponent extends _TdSearchInputMixinBase implements IControlValueAccessor, OnInit {\n\n  @ViewChild(MatInput) _input: MatInput;\n\n  /**\n   * showUnderline?: boolean\n   * Sets if the input underline should be visible. Defaults to 'false'.\n   */\n  @Input('showUnderline') showUnderline: boolean = false;\n\n  /**\n   * debounce?: number\n   * Debounce timeout between keypresses. Defaults to 400.\n   */\n  @Input('debounce') debounce: number = 400;\n\n  /**\n   * placeholder?: string\n   * Placeholder for the underlying input component.\n   */\n  @Input('placeholder') placeholder: string;\n\n  /**\n   * clearIcon?: string\n   * The icon used to clear the search input.\n   * Defaults to 'cancel' icon.\n   */\n  @Input('clearIcon') clearIcon: string = 'cancel';\n\n  /**\n   * searchDebounce: function($event)\n   * Event emitted after the [debounce] timeout.\n   */\n  @Output('searchDebounce') onSearchDebounce: EventEmitter<string> = new EventEmitter<string>();\n\n  /**\n   * search: function($event)\n   * Event emitted after the key enter has been pressed.\n   */\n  @Output('search') onSearch: EventEmitter<string> = new EventEmitter<string>();\n\n  /**\n   * clear: function()\n   * Event emitted after the clear icon has been clicked.\n   */\n  @Output('clear') onClear: EventEmitter<void> = new EventEmitter<void>();\n\n  /**\n   * blur: function()\n   * Event emitted after the blur event has been called in underlying input.\n   */\n  @Output('blur') onBlur: EventEmitter<void> = new EventEmitter<void>();\n\n  get isRTL(): boolean {\n    if (this._dir) {\n      return this._dir.dir === 'rtl';\n    }\n    return false;\n  }\n\n  constructor(@Optional() private _dir: Dir,\n              _changeDetectorRef: ChangeDetectorRef) {\n    super(_changeDetectorRef);\n  }\n\n  ngOnInit(): void {\n    this._input.ngControl.valueChanges.pipe(\n      skip(1), // skip first change when value is set to undefined\n      debounceTime(this.debounce),\n    ).subscribe((value: string) => {\n      this._searchTermChanged(value);\n    });\n  }\n\n  /**\n   * Method to focus to underlying input.\n   */\n  focus(): void {\n    this._input.focus();\n  }\n\n  handleBlur(): void {\n    this.onBlur.emit(undefined);\n  }\n\n  stopPropagation(event: Event): void {\n    event.stopPropagation();\n  }\n\n  handleSearch(event: Event): void {\n    this.stopPropagation(event);\n    this.onSearch.emit(this.value);\n  }\n\n  clearSearch(): void {\n    this.value = '';\n    this._changeDetectorRef.markForCheck();\n    this.onClear.emit(undefined);\n  }\n\n  private _searchTermChanged(value: string): void {\n    this.onSearchDebounce.emit(value);\n  }\n\n}\n"]}