{"version":3,"file":"file-input.component.js","sourceRoot":"","sources":["../../../../../src/platform/core/file/file-input/file-input.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Directive, Input, Output, EventEmitter, ChangeDetectionStrategy, ViewChild,\n         ElementRef, Renderer2, TemplateRef, ViewContainerRef, ChangeDetectorRef, forwardRef } from '@angular/core';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { TemplatePortalDirective } from '@angular/cdk/portal';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nimport { ICanDisable, mixinDisabled, IControlValueAccessor, mixinControlValueAccessor } from '../../common/common.module';\n\n@Directive({\n  selector: '[td-file-input-label]ng-template',\n})\nexport class TdFileInputLabelDirective extends TemplatePortalDirective {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\nexport class TdFileInputBase {\n  constructor(public _changeDetectorRef: ChangeDetectorRef) {}\n}\n\n/* tslint:disable-next-line */\nexport const _TdFileInputMixinBase = mixinControlValueAccessor(mixinDisabled(TdFileInputBase));\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => TdFileInputComponent),\n    multi: true,\n  }],\n  selector: 'td-file-input',\n  inputs: ['disabled', 'value'],\n  styleUrls: ['./file-input.component.scss'],\n  templateUrl: './file-input.component.html',\n})\nexport class TdFileInputComponent extends _TdFileInputMixinBase implements IControlValueAccessor, ICanDisable {\n\n  private _multiple: boolean = false;\n\n  /** The native `<input type=\"file\"> element */\n  @ViewChild('fileInput') _inputElement: ElementRef;\n  get inputElement(): HTMLInputElement {\n    return this._inputElement.nativeElement;\n  }\n\n  /**\n   * color?: string\n   * Sets button color. Uses same color palette accepted as [MatButton].\n   */\n  @Input('color') color: string;\n\n  /**\n   * multiple?: boolean\n   * Sets if multiple files can be dropped/selected at once in [TdFileInputComponent].\n   */\n  @Input('multiple')\n  set multiple(multiple: boolean) {\n    this._multiple = coerceBooleanProperty(multiple);\n  }\n  get multiple(): boolean {\n    return this._multiple;\n  }\n\n  /**\n   * accept?: string\n   * Sets files accepted when opening the file browser dialog.\n   * Same as 'accept' attribute in <input/> element.\n   */\n  @Input('accept') accept: string;\n\n  /**\n   * select?: function\n   * Event emitted a file is selected\n   * Emits a [File | FileList] object.\n   */\n  @Output('select') onSelect: EventEmitter<File | FileList> = new EventEmitter<File | FileList>();\n\n  constructor(private _renderer: Renderer2, _changeDetectorRef: ChangeDetectorRef) {\n    super(_changeDetectorRef);\n  }\n\n  /**\n   * Method executed when a file is selected.\n   */\n  handleSelect(files: File | FileList): void {\n    this.writeValue(files);\n    this.onSelect.emit(files);\n  }\n\n  /**\n   * Used to clear the selected files from the [TdFileInputComponent].\n   */\n  clear(): void {\n    this.writeValue(undefined);\n    this._renderer.setProperty(this.inputElement, 'value', '');\n  }\n\n  /** Method executed when the disabled value changes */\n  onDisabledChange(v: boolean): void {\n    if (v) {\n      this.clear();\n    }\n  }\n\n}\n"]}