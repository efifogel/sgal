{"version":3,"file":"step.component.js","sourceRoot":"","sources":["../../../../src/platform/core/steps/step.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Directive, Input, Output, TemplateRef, ViewChild,\n         ViewContainerRef, ContentChild, OnInit } from '@angular/core';\nimport { EventEmitter } from '@angular/core';\nimport { TemplatePortalDirective, TemplatePortal } from '@angular/cdk/portal';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\n\nimport { ICanDisable, mixinDisabled, ICanDisableRipple, mixinDisableRipple } from '../common/common.module';\n\nexport enum StepState {\n  None = <any>'none',\n  Required = <any>'required',\n  Complete = <any>'complete',\n}\n\n@Directive({\n  selector: '[td-step-label]ng-template',\n})\nexport class TdStepLabelDirective extends TemplatePortalDirective {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\n@Directive({\n  selector: '[td-step-actions]ng-template',\n})\nexport class TdStepActionsDirective extends TemplatePortalDirective {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\n@Directive({\n  selector: '[td-step-summary]ng-template',\n})\nexport class TdStepSummaryDirective extends TemplatePortalDirective {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\nexport class TdStepBase {}\n\n/* tslint:disable-next-line */\nexport const _TdStepMixinBase = mixinDisableRipple(mixinDisabled(TdStepBase));\n\n@Component({\n  selector: 'td-step',\n  inputs: ['disabled', 'disableRipple'],\n  templateUrl: './step.component.html',\n})\nexport class TdStepComponent extends _TdStepMixinBase implements OnInit, ICanDisable, ICanDisableRipple {\n\n  private _active: boolean = false;\n  private _state: StepState = StepState.None;\n\n  private _contentPortal: TemplatePortal<any>;\n  get stepContent(): TemplatePortal<any> {\n    return this._contentPortal;\n  }\n\n  @ViewChild(TemplateRef) _content: TemplateRef<any>;\n  @ContentChild(TdStepLabelDirective) stepLabel: TdStepLabelDirective;\n  @ContentChild(TdStepActionsDirective) stepActions: TdStepActionsDirective;\n  @ContentChild(TdStepSummaryDirective) stepSummary: TdStepSummaryDirective;\n\n  /**\n   * label?: string\n   * Sets label of [TdStepComponent] header.\n   * Defaults to 'Step #'\n   */\n  @Input('label') label: string;\n\n  /**\n   * sublabel?: string\n   * Sets sublabel of [TdStepComponent] header.\n   */\n  @Input('sublabel') sublabel: string;\n\n  /**\n   * active?: boolean\n   * Toggles [TdStepComponent] between active/deactive.\n   */\n  @Input('active')\n  set active(active: boolean) {\n    this._setActive(coerceBooleanProperty(active));\n  }\n  get active(): boolean {\n    return this._active;\n  }\n\n  /**\n   * state?: StepState or ['none' | 'required' | 'complete']\n   * Sets state of [TdStepComponent] depending on value.\n   * Defaults to [StepState.None | 'none'].\n   */\n  @Input('state')\n  set state(state: StepState) {\n    switch (state) {\n      case StepState.Complete:\n        this._state = StepState.Complete;\n        break;\n      case StepState.Required:\n        this._state = StepState.Required;\n        break;\n      default:\n        this._state = StepState.None;\n        break;\n    }\n  }\n  get state(): StepState {\n    return this._state;\n  }\n\n  /**\n   * activated?: function\n   * Event emitted when [TdStepComponent] is activated.\n   */\n  @Output('activated') onActivated: EventEmitter<void> = new EventEmitter<void>();\n\n  /**\n   * deactivated?: function\n   * Event emitted when [TdStepComponent] is deactivated.\n   */\n  @Output('deactivated') onDeactivated: EventEmitter<void> = new EventEmitter<void>();\n\n  constructor(private _viewContainerRef: ViewContainerRef) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this._contentPortal = new TemplatePortal(this._content, this._viewContainerRef);\n  }\n\n  /**\n   * Toggle active state of [TdStepComponent]\n   * retuns 'true' if successful, else 'false'.\n   */\n  toggle(): boolean {\n    return this._setActive(!this._active);\n  }\n\n  /**\n   * Opens [TdStepComponent]\n   * retuns 'true' if successful, else 'false'.\n   */\n  open(): boolean {\n    return this._setActive(true);\n  }\n\n  /**\n   * Closes [TdStepComponent]\n   * retuns 'true' if successful, else 'false'.\n   */\n  close(): boolean {\n    return this._setActive(false);\n  }\n\n  /**\n   * Returns 'true' if [state] equals to [StepState.Complete | 'complete'], else 'false'.\n   */\n  isComplete(): boolean {\n    return this._state === StepState.Complete;\n  }\n\n  /** Method executed when the disabled value changes */\n  onDisabledChange(v: boolean): void {\n    if (v && this._active) {\n      this._active = false;\n      this._onDeactivated();\n    }\n  }\n\n  /**\n   * Method to change active state internally and emit the [onActivated] event if 'true' or [onDeactivated]\n   * event if 'false'. (Blocked if [disabled] is 'true')\n   * returns true if successfully changed state\n   */\n  private _setActive(newActive: boolean): boolean {\n    if (this.disabled) {\n      return false;\n    }\n    if (this._active !== newActive) {\n      this._active = newActive;\n      if (newActive) {\n        this._onActivated();\n      } else {\n        this._onDeactivated();\n      }\n      return true;\n    }\n    return false;\n  }\n\n  private _onActivated(): void {\n    this.onActivated.emit(undefined);\n  }\n\n  private _onDeactivated(): void {\n    this.onDeactivated.emit(undefined);\n  }\n}\n"]}